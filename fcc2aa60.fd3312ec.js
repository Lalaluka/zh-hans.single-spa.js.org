(window.webpackJsonp=window.webpackJsonp||[]).push([[169],{297:function(e,a,t){"use strict";t.r(a),t.d(a,"frontMatter",(function(){return l})),t.d(a,"rightToc",(function(){return p})),t.d(a,"default",(function(){return b}));var r=t(1),n=t(9),c=(t(0),t(310)),l={id:"parcels-api",title:"Parcels API",sidebar_label:"Parcels API"},p=[{value:"\u6302\u8f7d",id:"\u6302\u8f7d",children:[{value:"Parcel \u5c5e\u6027(Parcel Props)",id:"parcel-\u5c5e\u6027parcel-props",children:[]},{value:"mountParcel",id:"mountparcel",children:[]},{value:"mountRootParcel",id:"mountrootparcel",children:[]}]},{value:"Parcel \u5bf9\u8c61",id:"parcel-\u5bf9\u8c61",children:[{value:"unmount",id:"unmount",children:[]},{value:"mount",id:"mount",children:[]},{value:"update",id:"update",children:[]},{value:"getStatus",id:"getstatus",children:[]},{value:"loadPromise",id:"loadpromise",children:[]},{value:"bootstrapPromise",id:"bootstrappromise",children:[]},{value:"mountPromise",id:"mountpromise",children:[]},{value:"unmountPromise",id:"unmountpromise",children:[]}]}],o={rightToc:p},i="wrapper";function b(e){var a=e.components,t=Object(n.a)(e,["components"]);return Object(c.b)(i,Object(r.a)({},o,t,{components:a,mdxType:"MDXLayout"}),Object(c.b)("p",null,"\u9664\u4e86\u6302\u8f7d\u4e4b\u5916\uff0c\u5927\u90e8\u5206parcel\u76f8\u5173\u7684api\u90fd\u53ef\u4ee5\u88ab\u81ea\u8eab\u8c03\u7528\u3002"),Object(c.b)("h2",{id:"\u6302\u8f7d"},"\u6302\u8f7d"),Object(c.b)("p",null,"Parcel\u6709\u4e24\u79cd\u6302\u8f7d\u65b9\u5f0f\uff0c\u5165\u53c2\u5206\u522b\u662f ",Object(c.b)("a",Object(r.a)({parentName:"p"},{href:"/docs/parcels-overview#parcel-configuration"}),"parcelConfig")," \u548c ",Object(c.b)("a",Object(r.a)({parentName:"p"},{href:"/docs/parcels-api#parcel-props"}),"parcelProps"),"\u3002\n\u90fd\u4f1a\u8fd4\u56de\u4e00\u4e2a",Object(c.b)("a",Object(r.a)({parentName:"p"},{href:"/docs/parcels-api#parcel-object"}),"parcel \u5bf9\u8c61"),"\u3002\u8be5\u5bf9\u8c61\u4f1a\u5bf9\u5916\u66b4\u9732parcel\u76f8\u5173\u7684api\u3002"),Object(c.b)("h3",{id:"parcel-\u5c5e\u6027parcel-props"},"Parcel \u5c5e\u6027(Parcel Props)"),Object(c.b)("p",null,"\u5f53\u6302\u8f7d\u4e00\u4e2aparcel\u65f6\uff0c\u7b2c\u4e8c\u4e2a\u53c2\u6570\u662fprops\uff0cjavascript\u5bf9\u8c61\u7c7b\u578b\u3002\u8be5\u5bf9\u8c61\u5305\u542b\u4e00\u4e2adomElement\u5c5e\u6027\uff0c\u5c06\u4f5c\u4e3aparcel\u7684\u6302\u8f7d\u70b9\u3002"),Object(c.b)("pre",null,Object(c.b)("code",Object(r.a)({parentName:"pre"},{className:"language-js"}),"const parcelProps = {\n  customerId: 7,\n  numberOfTasks: 42,\n  domElement: document.createElement('div')\n}\n")),Object(c.b)("h3",{id:"mountparcel"},"mountParcel"),Object(c.b)("p",null,Object(c.b)("inlineCode",{parentName:"p"},"applicationProps.mountParcel(parcelConfig, parcelProps)"),"\u3002\u6bcf\u4e2a\u5e94\u7528\u4f1a\u63d0\u4f9b\u4e00\u4e2amountParcel\u65b9\u6cd5\u3002\nParcel\u53ef\u4ee5\u76f4\u63a5\u8c03\u7528\u5e94\u7528\u7684",Object(c.b)("inlineCode",{parentName:"p"},"mountParcel"),"\u51fd\u6570\u8fdb\u884c\u6302\u8f7d\uff0c\u597d\u5904\u5728\u4e8e\u5f53\u5e94\u7528\u88ab\u5378\u8f7d\u65f6\uff0c\u6302\u8f7d\u7684parcel\u4e5f\u4f1a\u81ea\u52a8\u5378\u8f7d\u3002\n\u7b2c\u4e00\u4e2a\u53c2\u6570\u53ef\u4ee5\u662f\u5bf9\u8c61\u6216\u8005\u51fd\u6570\uff08\u52a0\u8f7d\u51fd\u6570\uff09\uff0c\u51fd\u6570\u7684\u8fd4\u56de\u503c\u4e3aPromise\uff0cresolve\u7684\u7ed3\u679c\u662f\u4e00\u4e2a\u5bf9\u8c61\u3002\u3010\u8bd1\u8005\u6ce8\uff1a\u6302\u8f7d\u65b9\u5f0f\u4e00\u3011"),Object(c.b)("pre",null,Object(c.b)("code",Object(r.a)({parentName:"pre"},{className:"language-js"}),"// Synchronous mounting\nconst parcel1 = applicationProps.mountParcel(parcelConfig, parcelProps);\n// Asynchronous mounting. Feel free to use webpack code splits or SystemJS dynamic loading\nconst parcel2 = applicationProps.mountParcel(() => import('./some-parcel'), parcelProps);\n")),Object(c.b)("h3",{id:"mountrootparcel"},"mountRootParcel"),Object(c.b)("p",null," ",Object(c.b)("a",Object(r.a)({parentName:"p"},{href:"/docs/api#mountrootparcel"}),"mountRootParcel")," \u65b9\u6cd5\u4e5f\u53ef\u4ee5\u5bf9parcel\u8fdb\u884c\u6302\u8f7d\uff0c\u4e0d\u8fc7\u9700\u8981\u624b\u52a8\u8c03\u7528",Object(c.b)("inlineCode",{parentName:"p"},"unmount"),"\u5378\u8f7d\u3002\u3010\u8bd1\u8005\u6ce8\uff1a\u6302\u8f7d\u65b9\u5f0f\u4e8c\u3011"),Object(c.b)("h2",{id:"parcel-\u5bf9\u8c61"},"Parcel \u5bf9\u8c61"),Object(c.b)("p",null," \u4e00\u4e2aparcel\u5bf9\u8c61\u5305\u542b\u4e0b\u9762\u7684\u65b9\u6cd5\uff1a"),Object(c.b)("ul",null,Object(c.b)("li",{parentName:"ul"},Object(c.b)("a",Object(r.a)({parentName:"li"},{href:"/docs/parcels-api#mount"}),"mount")),Object(c.b)("li",{parentName:"ul"},Object(c.b)("a",Object(r.a)({parentName:"li"},{href:"/docs/parcels-api#unmount"}),"unmount")),Object(c.b)("li",{parentName:"ul"},Object(c.b)("a",Object(r.a)({parentName:"li"},{href:"/docs/parcels-api#update"}),"update")),Object(c.b)("li",{parentName:"ul"},Object(c.b)("a",Object(r.a)({parentName:"li"},{href:"/docs/parcels-api#getstatus"}),"getStatus")),Object(c.b)("li",{parentName:"ul"},Object(c.b)("a",Object(r.a)({parentName:"li"},{href:"/docs/parcels-api#loadpromise"}),"loadPromise")),Object(c.b)("li",{parentName:"ul"},Object(c.b)("a",Object(r.a)({parentName:"li"},{href:"/docs/parcels-api#bootstrappromise"}),"bootstrapPromise")),Object(c.b)("li",{parentName:"ul"},Object(c.b)("a",Object(r.a)({parentName:"li"},{href:"/docs/parcels-api#mountpromise"}),"mountPromise")),Object(c.b)("li",{parentName:"ul"},Object(c.b)("a",Object(r.a)({parentName:"li"},{href:"/docs/parcels-api#unmountpromise"}),"unmountPromise"))),Object(c.b)("h3",{id:"unmount"},"unmount"),Object(c.b)("p",null,Object(c.b)("inlineCode",{parentName:"p"},"parcel.unmount()")," \u8fd4\u56de\u4e00\u4e2apromise\uff0c\u5f53parcel\u5378\u8f7d\u6210\u529f\u540eresolve\u3002promise\u53ef\u80fd\u4f1a\u629b\u51fa\u5f02\u5e38\uff0c\u9700\u8fdb\u884c\u5904\u7406\u3002"),Object(c.b)("h3",{id:"mount"},"mount"),Object(c.b)("p",null,Object(c.b)("inlineCode",{parentName:"p"},"parcel.unmount()")," \u8fd4\u56de\u4e00\u4e2apromise\uff0c\u5f53parcel\u5378\u8f7d\u6210\u529f\u540eresolve\u3002promise\u53ef\u80fd\u4f1a\u629b\u51fa\u5f02\u5e38\uff0c\u9700\u8fdb\u884c\u5904\u7406\u3002"),Object(c.b)("h3",{id:"update"},"update"),Object(c.b)("p",null,Object(c.b)("inlineCode",{parentName:"p"},"parcel.update(props)")," \u5141\u8bb8\u4f60\u6539\u53d8\u4f20\u7ed9parcel\u7684\u53c2\u6570\u3002\u6ce8\u610f\u4e0d\u662f\u6240\u6709\u7684parcel\u90fd\u652f\u6301update\u65b9\u6cd5\u3002",Object(c.b)("inlineCode",{parentName:"p"},"update"),"\u65b9\u6cd5\u8fd4\u56de\u4e00\u4e2apromise\uff0c\u66f4\u65b0\u6210\u529f\u540eresolve\u3002\u5982\u6709\u9700\u6c42\u53ef\u67e5\u9605",Object(c.b)("a",Object(r.a)({parentName:"p"},{href:"parcels-overview.html#update-optional"}),"\u5176\u4ed6\u6587\u6863")," \u548c ",Object(c.b)("a",Object(r.a)({parentName:"p"},{href:"https://single-spa.js.org/docs/parcels-overview.html#quick-example"}),"\u793a\u4f8b")," \u3002"),Object(c.b)("pre",null,Object(c.b)("code",Object(r.a)({parentName:"pre"},{className:"language-js"}),"const parcel = singleSpa.mountRootParcel(parcelConfig, parcelProps);\nparcel.update(newParcelProps);\n")),Object(c.b)("h3",{id:"getstatus"},"getStatus"),Object(c.b)("p",null,Object(c.b)("inlineCode",{parentName:"p"},"parcel.getStatus()")," \u8fd4\u56de\u4e00\u4e2a\u5b57\u7b26\u4e32\u4ee3\u8868parcel\u7684\u72b6\u6001\u3002\u6240\u6709\u72b6\u6001\u5982\u4e0b\uff1a"),Object(c.b)("ul",null,Object(c.b)("li",{parentName:"ul"},Object(c.b)("inlineCode",{parentName:"li"},"NOT_BOOTSTRAPPED"),": \u672a\u521d\u59cb\u5316"),Object(c.b)("li",{parentName:"ul"},Object(c.b)("inlineCode",{parentName:"li"},"BOOTSTRAPPING"),": \u521d\u59cb\u5316\u4e2d"),Object(c.b)("li",{parentName:"ul"},Object(c.b)("inlineCode",{parentName:"li"},"NOT_MOUNTED"),": \u5b8c\u6210\u521d\u59cb\u5316\uff0c\u672a\u6302\u8f7d"),Object(c.b)("li",{parentName:"ul"},Object(c.b)("inlineCode",{parentName:"li"},"MOUNTED"),": \u6fc0\u6d3b\u72b6\u6001\uff0c\u4e14\u5df2\u6302\u8f7d\u81f3DOM"),Object(c.b)("li",{parentName:"ul"},Object(c.b)("inlineCode",{parentName:"li"},"UNMOUNTING"),": \u5378\u8f7d\u4e2d"),Object(c.b)("li",{parentName:"ul"},Object(c.b)("inlineCode",{parentName:"li"},"UPDATING"),": \u66f4\u65b0\u4e2d"),Object(c.b)("li",{parentName:"ul"},Object(c.b)("inlineCode",{parentName:"li"},"SKIP_BECAUSE_BROKEN"),": \u5728\u521d\u59cb\u5316\u3001\u6302\u8f7d\u3001\u5378\u8f7d\u6216\u66f4\u65b0\u65f6\u53d1\u751f\u5f02\u5e38\u3002\u5176\u4ed6parcel\u53ef\u80fd\u4f1a\u88ab\u6b63\u5e38\u4f7f\u7528\uff0c\u4f46\u5f53\u524dparcel\u4f1a\u88ab\u8df3\u8fc7\u3002")),Object(c.b)("h3",{id:"loadpromise"},"loadPromise"),Object(c.b)("p",null,Object(c.b)("inlineCode",{parentName:"p"},"parcel.loadPromise()")," \u8fd4\u56de\u4e00\u4e2apromise\uff0c\u5f53parcel\u88ab\u88c5\u8f7d(loaded)\u540eresolve\u3002"),Object(c.b)("h3",{id:"bootstrappromise"},"bootstrapPromise"),Object(c.b)("p",null,Object(c.b)("inlineCode",{parentName:"p"},"parcel.bootstrapPromise()")," \u8fd4\u56de\u4e00\u4e2apromise\uff0c\u5f53parcel\u521d\u59cb\u5316\u540eresolve\u3002"),Object(c.b)("h3",{id:"mountpromise"},"mountPromise"),Object(c.b)("p",null,Object(c.b)("inlineCode",{parentName:"p"},"parcel.mountPromise()")," \u8fd4\u56de\u4e00\u4e2apromise\uff0c\u5f53parcel\u52a0\u8f7d\u540eresolve\u3002\u901a\u5e38\u7528\u4e8e\u68c0\u6d4bparcel\u751f\u6210\u7684DOM\u662f\u5426\u5df2\u7ecf\u6302\u8f7d\u3002"),Object(c.b)("h3",{id:"unmountpromise"},"unmountPromise"),Object(c.b)("p",null,Object(c.b)("inlineCode",{parentName:"p"},"parcel.unmountPromise()")," \u8fd4\u56de\u4e00\u4e2apromise\uff0c\u5f53parcel\u5378\u8f7d\u540eresolve\u3002"))}b.isMDXComponent=!0},310:function(e,a,t){"use strict";t.d(a,"a",(function(){return p})),t.d(a,"b",(function(){return m}));var r=t(0),n=t.n(r),c=n.a.createContext({}),l=function(e){var a=n.a.useContext(c),t=a;return e&&(t="function"==typeof e?e(a):Object.assign({},a,e)),t},p=function(e){var a=l(e.components);return n.a.createElement(c.Provider,{value:a},e.children)};var o="mdxType",i={inlineCode:"code",wrapper:function(e){var a=e.children;return n.a.createElement(n.a.Fragment,{},a)}},b=Object(r.forwardRef)((function(e,a){var t=e.components,r=e.mdxType,c=e.originalType,p=e.parentName,o=function(e,a){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&-1===a.indexOf(r)&&(t[r]=e[r]);return t}(e,["components","mdxType","originalType","parentName"]),b=l(t),m=r,u=b[p+"."+m]||b[m]||i[m]||c;return t?n.a.createElement(u,Object.assign({},{ref:a},o,{components:t})):n.a.createElement(u,Object.assign({},{ref:a},o))}));function m(e,a){var t=arguments,r=a&&a.mdxType;if("string"==typeof e||r){var c=t.length,l=new Array(c);l[0]=b;var p={};for(var i in a)hasOwnProperty.call(a,i)&&(p[i]=a[i]);p.originalType=e,p[o]="string"==typeof e?e:r,l[1]=p;for(var m=2;m<c;m++)l[m]=t[m];return n.a.createElement.apply(null,l)}return n.a.createElement.apply(null,t)}b.displayName="MDXCreateElement"}}]);